
const formatNumber = require('.')

const tp = require('testpass')

const tests = [
  [1, '1.00'],
  [1.1, '1.10'],
  [1.11, '1.11'],
  [1.111, '1.11'],
  [1.115, '1.11'],
  [9.99, '9.99'],
  [9.995, '9.99'],

  // Hundreds
  [100, '100.00'],
  [100.1, '100.10'],
  [100.11, '100.11'],
  [100.001, '100.00'],
  [100.005, '100.00'],

  // Thousands
  [1000, '1,000.00'],
  [1000.1, '1,000.10'],
  [1000.11, '1,000.11'],
  [1000.111, '1,000.11'],

  // Millions
  [1e6, '1.00 M'],
  [1e6 + 1e5, '1.10 M'],
  [1e6 + 11e4, '1.11 M'],
  [1e6 + 111e3, '1.11 M'],
  [999e6 + 999e3, '999.99 M'],

  // Billions
  [1e9, '1.00 B'],
  [1e9 + 1e8, '1.10 B'],
  [1e9 + 11e7, '1.11 B'],
  [1e9 + 111e6, '1.11 B'],
  [999e9 + 999e6, '999.99 B'],

  // Trillions
  [1e12, '1,000.00 B'],
  [1e12 + 999e6, '1,000.99 B'],

  // Fractions
  [0.1, '0.10'],
  [0.11, '0.11'],
  [0.111, '0.11'],
  [0.115, '0.11'],
  [0.011, '0.011'],
  [0.0111, '0.0111'],
  [0.01111, '0.0111'],
  [0.01115, '0.0111'],
  [0.001111, '0.00111'],
  [0.0001111, '0.000111'],
  [0.000000111, ''],
]

tests.forEach(([input, output]) => {
  tp.test(input + ` => '${output}'`, (t) => {
    t.eq(formatNumber(input), output)
  })
})
